@using TODO.PersistObject.models
@model TODO_Priority
<div id="content-header">
    <h1>
        优先级管理</h1>
</div>
<div id="breadcrumb">
</div>
<div class="container-fluid">
    <div class="row-fluid">
        <div class="span12">
            <div class="widget-box">
                <div class="widget-title">
                    <span class="icon"><i class="icon-align-justify"></i></span>
                    <h5>
                        修改优先级</h5>
                </div>
                <div class="widget-content nopadding">
                    @using (Html.BeginForm("Edit", "Priority", FormMethod.Post, new { @class = "form-horizontal", id = "create" }))
                    {           
                        <div class="control-group">
                            <label class="control-label">
                                优先级:</label>
                            <div class="controls">
                                <input name="PriorityCode" value="@Model.priority"  type="text" />
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">
                                类别名:</label>
                            <div class="controls">
                                <textarea name="PriorityName" >@Model.name</textarea>
                            </div>
                        </div>
                        <div class="form-actions">
                            <input type="submit" class="btn btn-primary" value="保存" />
                            <label id="msg" style="color: Red">@ViewData["ErrStr"]</label>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="@Url.Content("~/Content/js/jquery.validate.js")"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#create").validate({
            rules: {
                PriorityName: {
                    required: true
                },
                PriorityCode: {
                    required: true,
                    number: true
                },
            },
            errorClass: "help-inline",
            errorElement: "span",
            highlight: function (element, errorClass, validClass) {
                $(element).parents('.control-group').addClass('error');
            },
            unhighlight: function (element, errorClass, validClass) {
                $(element).parents('.control-group').removeClass('error');
            }
        });
    });
</script>
