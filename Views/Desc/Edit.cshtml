@using TODO.PersistObject.models
@model TODO_Desc
<div id="content-header">
    <h1>
        字典数据管理</h1>
</div>
<div id="breadcrumb">
</div>
<div class="container-fluid">
    <div class="row-fluid">
        <div class="span12">
            <div class="widget-box">
                <div class="widget-title">
                    <span class="icon"><i class="icon-align-justify"></i></span>
                    <h5>
                        修改字典数据</h5>
                </div>
                <div class="widget-content nopadding">
                    @using (Html.BeginForm("Edit", "Desc", FormMethod.Post, new { @class = "form-horizontal", id = "create" }))
                    {           
                        <div class="control-group">
                            <label class="control-label">
                                字典类别:</label>
                            <div class="controls">
                            @Html.DropDownList("DescType", null, new { })
                                @*<select name="DescType">
								    <option value="subject">任务名</option>
								    <option value="node">工作要求</option>
							    </select>*@
                            </div>
                        </div>                       
                        <div class="control-group">
                            <label class="control-label">
                                是否启用:</label>
                            <div class="controls">
                               <input type="checkbox" id="IN_USE" name="IN_USE"} />
                            </div>
                        </div>                     
                        <div class="control-group">
                            <label class="control-label">
                                详细内容:</label>
                            <div class="controls">
                               <textarea name="Desc">@Model.description</textarea>
                            </div>
                        </div>
                        <div class="form-actions">
                            <input type="submit" class="btn btn-primary" value="保存" />
                            <label id="msg" style="color: Red">@ViewData["ErrStr"]</label>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="@Url.Content("~/Content/js/jquery.validate.js")"></script>
<script type="text/javascript">
    $(document).ready(function () {
    
        @if (Model.in_use)
        {
            @Html.Raw("$(\"#IN_USE\").prop('checked', true);");
        }
        $("#create").validate({
            rules: {
                TypeName: {
                    required: true
                },
            },
            errorClass: "help-inline",
            errorElement: "span",
            highlight: function (element, errorClass, validClass) {
                $(element).parents('.control-group').addClass('error');
            },
            unhighlight: function (element, errorClass, validClass) {
                $(element).parents('.control-group').removeClass('error');
            }
        });
    });
</script>
